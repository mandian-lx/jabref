--- jabref-2.11.1/build.xml.classpath
+++ jabref-2.11.1/build.xml
@@ -101,8 +101,12 @@
 	<!-- Build classpath -->
 	<filelist id="jars" />
 	<path id="classpath">
+        <fileset dir="${lib.dir}">
+                <include name="*.jar"/>
+        </fileset>
 		<pathelement path="${build.classes}" />
 		<pathelement path="${build.dir}" />
+		<pathelement path="${build.lib}" />
 		<filelist refid="jars" />
 	</path>
 
@@ -121,9 +140,9 @@
 	<!-- Compiles project -->
	<target name="compile">
 		<mkdir dir="${build.classes}" />
-		<javac destdir="${build.classes}" encoding="UTF8" source="1.6" target="1.6">
+		<javac destdir="${build.classes}" encoding="UTF8" source="1.7" target="1.7">
 			<src path="${java.dir}" />
-            <src path="${gen.dir}" />
+			<src path="${gen.dir}" />
 			<classpath refid="classpath" />
 		</javac>
 	</target>
@@ -134,7 +276,7 @@
 	<!-- Builds the OSXAdapter -->
 	<target name="osx" depends="compile">
 		<mkdir dir="${build.classes}" />
-		<javac srcdir="${osx.dir}" destdir="${build.classes}" target="1.6">
+		<javac srcdir="${osx.dir}" destdir="${build.classes}" target="1.7">
 			<!-- Hack to force visibility of com.apple.eawt in rt.jar in JDK7 & 8
 				 https://bugs.openjdk.java.net/browse/JDK-8008714 -->
 			<compilerarg value="-XDignore.symbol.file"/>			
@@ -177,7 +324,7 @@
 			</fileset>
 			<manifest>
 				<attribute name="Main-Class" value="net.sf.jabref.JabRefMain" />
-                <attribute name="Class-Path" value="." />
+                <!--attribute name="Class-Path" value="." /-->
 			</manifest>
 		</jar>
 
